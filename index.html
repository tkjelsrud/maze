<html>
<head>
  <style>
    .maze {
      width: 100%;
      height: 100%;
      margin: 0;
    }
    .row {
      float: none;
    }
    .tile {
      float: left;
      height: 32px;
      width: 32px;
      border: 1px solid grey;
    }
  </style>
  <script type="text/javascript">
    var glob = {'tw': 32, 'th': 32};
    function drawMaze() {
      let d = document.getElementById("maze");
      
      cx = Math.floor(window.innerWidth / glob.tw);
      cy = Math.floor(window.innerHeight / glob.th);
      //alert(cx + " " + cy);
      
      for(let y = 0; y < cy; y++) {
        let r = document.createElement("div");
        r.className = "row";
        
       	for(let x = 0; x < cx; x++) {
          let t = document.createElement("div");
          t.className = "tile";
          t.addEventListener('touchstart', function (event) {
            event.target.style.backgroundColor = "#999";
          });
          t.addEventListener('click', function (event) {
            if(event.target.style.backgroundColor == "red") {
              event.target.style.backgroundColor = "white";
            }
            else
              event.target.style.backgroundColor = "red";
          });
          
          r.appendChild(t);
        }
        d.appendChild(r);
      }
    }
  </script>
</head>

<body>
  <div id="maze">
    
  </div>
  <script type="text/javascript">
    window.onload = (event) => {
    	drawMaze();
    };
  </script>
</body>
</html>
